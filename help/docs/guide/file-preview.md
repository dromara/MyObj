# 文件预览

MyObj 支持多种文件类型的在线预览，无需下载即可查看文件内容。

## 📋 支持的预览类型

### 图片预览

支持以下图片格式：
- **JPG/JPEG** - JPEG 图片
- **PNG** - PNG 图片
- **GIF** - 动画 GIF
- **WebP** - WebP 图片
- **BMP** - Windows 位图
- **SVG** - 矢量图
- **TIFF** - TIFF 图片

**功能特性**：
- ✅ 图片缩放（鼠标滚轮）
- ✅ 图片旋转
- ✅ 图片拖拽
- ✅ 全屏预览
- ✅ 缩略图导航

### 视频预览

支持以下视频格式：
- **MP4** - MP4 视频
- **AVI** - AVI 视频
- **MOV** - QuickTime 视频
- **WMV** - Windows Media 视频
- **WebM** - WebM 视频

**功能特性**：
- ✅ 在线播放（使用 Plyr 播放器）
- ✅ 播放控制（播放、暂停、音量、进度）
- ✅ 全屏播放
- ✅ 播放速度调节
- ✅ 字幕支持（如果视频包含）

### PDF 预览

- ✅ 在线 PDF 查看器
- ✅ 页面导航
- ✅ 缩放控制
- ✅ 打印支持

### 文本预览

支持以下文本格式：
- **TXT** - 纯文本
- **MD** - Markdown
- **JSON** - JSON 文件
- **XML** - XML 文件
- **CSV** - CSV 文件
- **代码文件** - 支持语法高亮

**功能特性**：
- ✅ 语法高亮（代码文件）
- ✅ 行号显示
- ✅ 文本搜索
- ✅ 打印支持

## 🎨 预览界面

### 预览对话框

点击文件即可打开预览对话框，支持：
- 全屏预览
- 键盘快捷键
- 图片缩放和旋转
- 视频播放控制

### 缩略图

系统自动为图片和视频生成缩略图：
- 图片缩略图：200x200 像素
- 视频缩略图：从视频中截取关键帧
- 缩略图缓存：提高加载速度

## ⌨️ 快捷键

在预览对话框中：

- **ESC** - 关闭预览
- **←/→** - 上一张/下一张（图片）
- **滚轮** - 缩放（图片）
- **双击** - 重置缩放（图片）
- **空格** - 播放/暂停（视频）

## 🖨️ 打印功能

支持打印以下文件类型：
- 图片
- PDF
- 文本文件

**使用方法**：
1. 打开文件预览
2. 点击"打印"按钮
3. 选择打印机和设置
4. 开始打印

## ⚙️ 预览设置

### 自动生成缩略图

在 `config.toml` 中配置：

```toml
[file]
thumbnail = true  # 是否生成缩略图
```

### 预览文件大小限制

系统对预览文件大小有限制，超过限制的文件需要下载后查看。

## 🔍 故障排查

### 图片无法预览

**可能原因**：
1. 图片格式不支持
2. 图片文件损坏
3. 浏览器不支持该格式

**解决方案**：
- 检查图片格式是否在支持列表中
- 尝试下载后查看
- 更新浏览器版本

### 视频无法播放

**可能原因**：
1. 视频格式不支持
2. 视频编码格式浏览器不支持
3. 网络问题导致加载失败

**解决方案**：
- 检查视频格式和编码
- 检查网络连接
- 尝试下载后播放

### PDF 加载缓慢

**可能原因**：
1. PDF 文件过大
2. 网络速度慢

**解决方案**：
- 等待加载完成
- 检查网络连接
- 考虑下载后查看
