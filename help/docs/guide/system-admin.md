# 系统管理

系统管理功能仅对管理员开放，用于管理用户、权限、磁盘等系统资源。

## 👥 用户管理

### 用户列表

查看所有系统用户：
- 分页显示用户列表
- 按用户名、邮箱搜索
- 按用户组筛选
- 按状态筛选（正常/封禁）

### 用户操作

- **创建用户** - 创建新用户账户
- **编辑用户** - 修改用户信息
- **删除用户** - 删除用户账户
- **封禁用户** - 封禁/解封用户
- **重置密码** - 重置用户密码
- **修改用户组** - 更改用户所属组
- **设置存储配额** - 设置用户存储空间限制

### 用户信息

查看用户详细信息：
- 基本信息（用户名、邮箱、电话）
- 用户组
- 存储配额和使用情况
- 创建时间
- 最后登录时间

## 👨‍👩‍👧‍👦 用户组管理

### 组列表

查看所有用户组：
- 组名称
- 组描述
- 用户数量
- 权限列表

### 组操作

- **创建组** - 创建新用户组
- **编辑组** - 修改组信息
- **删除组** - 删除用户组（需先移除所有用户）
- **分配权限** - 为用户组分配权限

### 权限分配

为用户组分配权限：
- `file:upload` - 文件上传权限
- `file:download` - 文件下载权限
- `file:delete` - 文件删除权限
- `file:move` - 文件移动权限
- `file:preview` - 文件预览权限
- `dir:create` - 目录创建权限

## 🔐 权限管理

### 权限列表

查看所有系统权限：
- 权限标识
- 权限名称
- 权限描述

### 权限分配

- 查看各用户组的权限分配情况
- 为用户组分配/移除权限
- 权限变更立即生效

## 💾 磁盘管理

### 磁盘列表

查看所有存储磁盘：
- 磁盘路径
- 磁盘大小
- 已用空间
- 可用空间
- 使用率

### 磁盘操作

- **扫描磁盘** - 扫描系统可用磁盘
- **添加磁盘** - 手动添加存储磁盘
- **删除磁盘** - 删除磁盘配置（需先迁移数据）
- **查看详情** - 查看磁盘详细信息

### 磁盘配置

配置磁盘参数：
- 磁盘路径
- 磁盘大小（可选，用于配额管理）
- 磁盘状态（启用/禁用）

## ⚙️ 系统配置

### 系统信息

查看系统配置信息：
- 服务器配置
- 数据库配置
- 文件存储配置
- WebDAV 配置
- S3 配置

### 系统统计

查看系统统计数据：
- 用户总数
- 用户组总数
- 文件总数
- 存储空间使用情况
- 系统运行时间

## 🔒 安全设置

### 管理员保护

- 管理员账户不能被删除
- 管理员权限不能被修改
- 管理员不能被封禁

### 操作日志

系统记录所有管理操作：
- 用户创建/删除
- 权限变更
- 系统配置修改
- 操作时间和操作者

## 📊 使用场景

### 场景 1: 新用户注册

管理员创建新用户账户，设置初始密码和存储配额。

### 场景 2: 权限管理

根据组织需求，创建不同的用户组并分配相应权限。

### 场景 3: 存储扩容

添加新的存储磁盘，扩展系统存储容量。

### 场景 4: 用户管理

管理用户账户，处理用户问题，维护系统安全。

## ⚠️ 注意事项

### 管理员权限

- 管理员拥有系统最高权限
- 请妥善保管管理员账户
- 建议使用强密码
- 定期更换密码

### 数据安全

- 删除用户前请确认
- 删除用户会同时删除用户的所有文件
- 重要操作需要二次确认

### 系统维护

- 定期检查系统状态
- 监控存储空间使用
- 及时处理异常情况

## 🔍 故障排查

### 无法创建用户

**可能原因**：
1. 用户名已存在
2. 邮箱已被使用
3. 数据库连接问题

**解决方案**：
- 检查用户名和邮箱是否唯一
- 检查数据库连接
- 查看系统日志

### 磁盘扫描失败

**可能原因**：
1. 磁盘路径不存在
2. 权限不足
3. 磁盘已损坏

**解决方案**：
- 检查磁盘路径
- 检查文件系统权限
- 检查磁盘健康状态
